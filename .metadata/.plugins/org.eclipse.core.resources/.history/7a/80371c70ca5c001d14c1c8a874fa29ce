/*
 * fsm_auto.c
 *
 *  Created on: Nov 4, 2022
 *      Author: Admin
 */

#include "fsm_auto.h"
enum state {NORM_STATE, RES_STATE, INC_STATE, DEC_STATE};
enum state mode = NORM_STATE;
void fsm_simple_buttons_run (){
	if(timer1_flag == 1){
		TOGGLE();
		setTimer1(100);
	}

	switch(mode){
	case INIT:
		mode = NORM_STATE;
		setTimer1(10); //LED
		setTimer2(10); //SEG7
		break;

	case NORM_STATE:
		if(isButtonPressed(RES) == 1){
			mode = RES_STATE;
			counter = 0;
			display7SEG1(counter);
		}

		if(timer2_flag == 1){
			display7SEG1(counter);
			if(counter > 0) counter--;
			setTimer2(100);
		}
		break;
	case RES_STATE:

		break;
	case INC_STATE:
		break;
	case DEC_STATE:
		break;
	}
}

/*
 * fsm_auto.c
 *
 *  Created on: Nov 4, 2022
 *      Author: Admin
 */

#include "fsm_auto.h"

void fsm_simple_buttons_run (){
	if(mode == NORMAL){
		switch(LED_BLINK){
		case INIT:
			LED_BLINK = BLINK;
			setTimer1(100);
			break;
		case BLINK:
			if(timer1_flag == 1){
				RIDE_ON();
				display7SEG1(counterRED);
				counterRED--;
				if(counterRED <= INIT) counterRED = AUTO_RED;
				setTimer1(100);
			}
			break;
		default:
			break;
		}

		if (isButtonPressed(RES) == 1) mode = RES_STATE;
		if (isButtonPressed(INC) == 1) mode = INC_STATE;
		if (isButtonPressed(DEC) == 1) mode = DEC_STATE;
	}
}
